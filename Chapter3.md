# [Chapter 3] 함수를 잘 만드는 방법


**1. 함수를 작게, 더 작게 만들어라**
- 2~4줄 정도로 엄청 짧게
- if/else/while 문 등에 들어가는 블록은 한줄이여야함
- 중첩구조가 생길만큼 함수가 커져서는 안된다 (함수에서 들여쓰기 수준은 1단이나 2단을 넘어서면 안됨)


**2. 함수는 한가지를 해야 한다. 그 한 가지를 잘 해야한다. 그 한 가지만을 해야 한다. (SRP, Single Responsibility Principle)**
- 함수가 한 가지만 하는지 판단하는 방법1 : 지정된 함수 이름 아래에서 추상화 수준이 하나인 단계만 수행한다면 그 함수는 한 가지 작업만 한다.
- 함수가 한 가지만 하는지 판단하는 방법2 : 단순히 다른 표현이아니라 의미 있는 이름으로 다른 함수를 추출할 수 있다면 그 작업은 여러 작업읕 하는 셈
* 함수가 자연스럽게 섹션으로 나눌 수 있다면, 한 함수에서 여러 작업을 한다는 증거, 코드를 변경해야할 이유가 여럿

* 우리가 함수를 만드는 이유는 큰 개념을(즉, 함수 이름을) 다음 추상화 수준에서 여러 단계로 나눠 수행하기 위해서이다.

* 추상화란? (추상화 수준이란?)
**사소한 요소를 제거하고 핵심만 뽑아내는 것**
세상 만사가 어떻게 움직이고 있는지 그 구조, **기본적인 메커니즘을 뽑아내는 것**이라고 합니다. 경제학에서는 ‘모델링’이라는 표현도 추상화와 동의어로 쓰인다고 합니다.
개별성을 낮추고, 따라서 여러가지 상황에 적용할 수 있게 됩니다.


**3. 함수 당 추상화 수준은 하나로!**
- 내려가기 규칙 : 위에서 아래로 프로그램을 읽으면 함수 추상화 수준이 한 번에 한 단계씩 낮아진다.
- Switch 문은 추상 패토리에 꽁꽁 숨기자


**4. 서술적인 이름을 사용하라!**
- 함수 이름이 길어도 괜찮다. 길고 서술적인 함수 이름이 길고 서술적인 주석보다 좋다.
- 이름을 붙일 때는 일관성이 있어야 한다. 모듈 내에서 함수 이름은 같은 문구, 명사, 동사를 사용한다.


**5. 함수 인수**
    - 이상적인 인수 개수 순서 -> 0, 1 (3,4개 이상은 최대한 피하기)
1) 단항 함수
    1. 인수에 질문을 던지는 경우
    2. 인수를 뭔가로 변환해 결과를 변환하는 경우
    3. (드물게 사용) 이벤트 함수
2) 플래그 인수 - 쓰지마라
3) 이항 함수
    나쁜 건 아니지만 단항 함수로 바꾸도록 애써야한다.
4) 삼항 함수
     신중히 만들자
- 인수 객체
```
Circle makeCircle(double x, double y, double radius)
Circle makeCircle(Point center, double radius)
```
인수가 2~3개 필요하다면 일부를 독자적인 클래스 변수로 선언하자. 개념을 표현할 수 있게된다.
- 인수 목록 : 동등하게 취급하는 가변 인수를 갖는 함수에서 List형 인수 하나로 인수 대체하기
- 함수 이름 : 동사/명사 쌍 + 인수 이름(인수 순서에 맞게 넣기)


**6. 부수 효과를 일으키지 마라!**
- 함수 이름에서 짐작했던 내용과 함께 예상치못한 내용이 함께 실행되는 상황이 발생하지 않도록해야한다.
- 일반적인 경우 출력 인수를 쓰지 마라 (다른 데에 전달되는 인수를 사용하지 마라) -> 상태를 변경해야한다면 함수가 속한 객체 상태를 변경하는 방식으로 하기


**7. 명령과 조회를 분리하라!**
- 함수는 객체 상태를 변경하거나 아니면 객체 정보를 반환하거나 둘 중 하나만 해야 한다. 둘 다 하면 안된다.
- Try/Catch 블록은 따로 뽑아내서 함수로 만들어라.


**8. 오류 코드보다 예외를 사용하라!**
(if를 사용하는)오류 코드보다 예외를 사용하면 오류 처리 코드가 원래 코드에서 분리되므로 코드가 깔끔해진다.


**9. 반복하지 마라!**
중복을 없애면 모듈 가독성이 크게 높아진다.


**10. 구조적 프로그래밍**
- 큰 함수에서 : return 문이 하나여야한다. 루프 안에서 break, continue를 사용하면 안된다. goto는 절대 사용하지 말아야한다.
- 작은 함수에서 : return, break, continue 여러번 사용해도된다. goto는 절대 사용하지 말아야한다.


**결론**
- 함수는 동사며, 클래스는 명사다.
- 잘만든 함수는 길이가 짧고, 이름이 좋고, 체계가 잡힌 함수이다.
- 함수의 근본적인 목표는 시스템이라는 이야기를 풀어가는데 있다.
